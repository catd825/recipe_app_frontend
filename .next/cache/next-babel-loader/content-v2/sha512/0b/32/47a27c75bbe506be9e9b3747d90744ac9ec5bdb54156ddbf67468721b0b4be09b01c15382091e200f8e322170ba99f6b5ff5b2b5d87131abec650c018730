{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/catherineadonofrio/Development/code/Mod6/recipe_app/recipe_tracker_frontend/src/Components/EditForm.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport { CURRENT_USER } from '../current_user';\nexport default function EditForm(props) {\n  console.log(props);\n  const current_user = CURRENT_USER;\n  const router = useRouter();\n  const {\n    0: recipes,\n    1: setRecipes\n  } = useState([]);\n  const recipeUrl = `http://localhost:3000/recipes/${props.id}`;\n  useEffect(() => {\n    const fetchRecipes = async () => {\n      const response = await fetch(recipeUrl);\n      const data = await response.json();\n      setRecipes(data);\n    };\n\n    fetchRecipes();\n  }, []);\n  const formObj = {\n    recipe_creator_id: current_user,\n    //only for testing before auth fully implemented\n    title: recipes.title,\n    ingredients: recipes.ingredients,\n    instructions: recipes.instructions,\n    img_url: recipes.img_url,\n    description: recipes.description\n  }; // debugger\n\n  const {\n    0: formData,\n    1: setFormData\n  } = useState(formObj);\n\n  const changeHandler = e => {\n    setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const submitHelper = e => {\n    e.preventDefault();\n    submitHandler();\n  };\n\n  const submitHandler = () => {\n    const configObj = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      body: JSON.stringify(formData)\n    };\n    fetch('http://localhost:3000/recipes', configObj).then(res => res.json()).then(() => router.push('/recipes'));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitHelper,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Recipe Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: changeHandler,\n        value: formData.title,\n        type: \"text\",\n        name: \"title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Ingredients\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: changeHandler,\n        value: formData.ingredients,\n        type: \"text\",\n        name: \"ingredients\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Instructions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: changeHandler,\n        value: formData.instructions,\n        type: \"text\",\n        name: \"instructions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Add Photo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: changeHandler,\n        value: formData.img_url,\n        type: \"text\",\n        name: \"img_url\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: changeHandler,\n        value: formData.description,\n        type: \"text\",\n        name: \"description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n}","map":{"version":3,"sources":["/Users/catherineadonofrio/Development/code/Mod6/recipe_app/recipe_tracker_frontend/src/Components/EditForm.js"],"names":["useState","useEffect","useRouter","CURRENT_USER","EditForm","props","console","log","current_user","router","recipes","setRecipes","recipeUrl","id","fetchRecipes","response","fetch","data","json","formObj","recipe_creator_id","title","ingredients","instructions","img_url","description","formData","setFormData","changeHandler","e","target","name","value","submitHelper","preventDefault","submitHandler","configObj","method","headers","body","JSON","stringify","then","res","push"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react'\nimport { useRouter } from 'next/router'\nimport { CURRENT_USER } from '../current_user'\n\nexport default function EditForm (props) {\n\n    console.log(props)\n    const current_user = CURRENT_USER\n    const router = useRouter()\n\n    const [recipes, setRecipes] = useState([]);\n    const recipeUrl = `http://localhost:3000/recipes/${props.id}`\n    \n    \n    useEffect( () => {\n        const fetchRecipes = async () => {\n            const response = await fetch(recipeUrl)\n            const data = await response.json();\n            setRecipes(data);\n        };\n        fetchRecipes();\n      }, []);\n\n\n    const formObj = {\n        recipe_creator_id: current_user, //only for testing before auth fully implemented\n        title: recipes.title,\n        ingredients: recipes.ingredients,\n        instructions: recipes.instructions,\n        img_url: recipes.img_url,\n        description: recipes.description\n    }\n\n    // debugger\n\n    const [formData, setFormData] = useState(formObj)\n\n    const changeHandler = (e) => {\n        setFormData({\n            ...formData, \n            [e.target.name]: e.target.value\n        })\n    }\n\n    const submitHelper = (e) => {\n        e.preventDefault()\n        submitHandler()\n    }\n\n    const submitHandler = () => {\n        const configObj = {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n            },\n            body: JSON.stringify(formData)\n        }\n\n            fetch('http://localhost:3000/recipes', configObj)\n            .then(res => res.json())\n            .then(() => router.push('/recipes'))\n    }\n\n    return (\n        <div>\n            <form onSubmit={submitHelper}>\n                <label>Recipe Name</label>\n                <input onChange={changeHandler} value={formData.title} type=\"text\" name=\"title\"></input>\n                    <br/>\n                <label>Ingredients</label>\n                <input onChange={changeHandler} value={formData.ingredients} type=\"text\" name=\"ingredients\"></input>\n                    <br/>\n                <label>Instructions</label>\n                <input onChange={changeHandler} value={formData.instructions} type=\"text\" name=\"instructions\"></input>\n                    <br/>\n                <label>Add Photo</label>\n                <input onChange={changeHandler} value={formData.img_url} type=\"text\" name=\"img_url\"></input>\n                    <br/>\n                <label>Description</label>\n                <input onChange={changeHandler} value={formData.description} type=\"text\" name=\"description\"></input>\n                    <br/>\n                <button type=\"submit\">Submit</button>\n            </form>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}